% % % % % PACKAGES

%General Packages

\usepackage[automark]{scrlayer-scrpage}								%KOMA styles					
\usepackage{amsfonts}												%Mathematics fonts
\usepackage{amsmath}												%general math tools
\usepackage{mathtools}												%General mathematics symbols
\usepackage{stmaryrd}												%Extra math symbols
\usepackage{amssymb}												%More symbols
\usepackage{extarrows}												%Extendible arrows
\usepackage{dsfont} 												%Identity matrix symbol
\usepackage{mathrsfs}												%To get mathscr
\usepackage{accents}												%Accents on math symbols
\usepackage[T1]{fontenc}											%Accents output improvement
\usepackage[latin1]{inputenc}										%Accents input improvement
\usepackage{subcaption} 											%Subfigures etc
\usepackage[top=1in,bottom=1in,left=1.25in,right=1.25in]{geometry}	%margins
\usepackage[symbol]{footmisc}										%Some footnote margin thing
\usepackage{enumerate} 												%Numbered lists
\usepackage{booktabs}												%improved tables


%Pictures & TikZ Packages

\usepackage{graphicx}												%Pictures
\usepackage{tikz}													%TikZ Drawings
%\usetikzlibrary{3d,patterns,arrows,bending,arrows.meta,				%TikZ Libraries
%	shapes.geometric,knots,intersections,
%	decorations.markings,decorations.pathmorphing}										
\usepackage{tikz-cd}												%Commutative Diagrams


%Mathematics Packages

\usepackage{amsthm}													%Theorems etc

%Referencing

\usepackage[colorlinks=true]{hyperref}								%hyperlinks
\usepackage[noabbrev]{cleveref}										%better cross-referencing


% % % % % CUSTOM COMMANDS

%Derivatives/Differentials

\let\underdot=\d
\newcommand{\od}[2]{\frac{\mathrm{d} #1}{\mathrm{d} #2}}
\newcommand{\odd}[2]{\frac{\mathrm{d}^2 #1}{\mathrm{d} #2^2}}
\newcommand{\p}{\partial}
\newcommand{\pd}[2]{\frac{\partial #1}{\partial #2}}
\renewcommand{\d}{\mathrm{d}}
\newcommand{\dif}{D}


%Common Sets/Spaces

\newcommand{\RP}{\mathbb{R}\mathrm{P}}
\newcommand{\CP}{\mathbb{C}\mathrm{P}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\C}{\mathbb{C}}
\renewcommand{\H}{\mathbb{H}}

%Operators

\renewcommand{\Im}{\operatorname{Im}}
\renewcommand{\Re}{\operatorname{Re}}

\DeclareMathOperator{\Graph}{graph}

\DeclareMathOperator{\im}{im}
\DeclareMathOperator{\rank}{rank}
\DeclareMathOperator{\tr}{tr}
\DeclareMathOperator{\incl}{incl}
\DeclareMathOperator{\pr}{proj}
\DeclareMathOperator{\Span}{span}

\DeclareMathOperator{\Hom}{Hom}
\DeclareMathOperator{\End}{End}
\DeclareMathOperator{\Aut}{Aut}
\DeclareMathOperator{\coker}{coker}
\DeclareMathOperator{\id}{id}
\newcommand{\Unit}{\mathds{1}}

\DeclareMathOperator{\Iwa}{Iwa}
\DeclareMathOperator{\Mor}{Mor}
\DeclareMathOperator{\Ob}{Ob}


\DeclareMathOperator{\Ad}{Ad}
\DeclareMathOperator{\ad}{ad}

\DeclareMathOperator{\supp}{supp}
\DeclareMathOperator{\interior}{int}
\DeclareMathOperator{\vol}{vol}

\DeclareMathOperator{\sgn}{sgn}

\DeclareMathOperator{\Tor}{Tor}
\DeclareMathOperator{\Ext}{Ext}
\DeclareMathOperator*{\free}{\scalerel*{\ast}{\scaleobj{1}{\sum}}}

%Other

\newcommand{\action}{\curvearrowright}
\newcommand{\rightaction}{\curvearrowleft}

\newcommand{\ubar}[1]{\underaccent{\bar}{#1}}
\def\mathunderline#1#2{\color{#1}\underline{{\color{black}#2}}\color{black}}

\newcommand{\abs}[1]{\lvert #1 \rvert}
\newcommand{\norm}[1]{\lVert #1 \rVert}
\newcommand{\expvalue}[1]{\left\langle #1 \right\rangle}

\setlength{\parindent}{0pt}

\newcommand{\mf}[1]{\mathfrak{#1}}
\newcommand{\mc}[1]{\mathcal{#1}}
\newcommand{\ms}[1]{\mathscr{#1}}

\newcommand{\bdy}{\partial}
\newcommand{\pt}{\mathrm{pt}}


%Theorem Styles

\newtheoremstyle{mythm}% name of the style to be used
{}% measure of space to leave above the theorem. E.g.: 3pt
{}% measure of space to leave below the theorem. E.g.: 3pt
{\slshape}% name of font to use in the body of the theorem
{}% measure of space to indent
{\bfseries\sffamily}% name of head font
{.}% punctuation between head and body
{ }% space after theorem head; " " = normal interword space
{}% Manually specify head
\newtheoremstyle{mydef}% name of the style to be used
{}% measure of space to leave above the theorem. E.g.: 3pt
{}% measure of space to leave below the theorem. E.g.: 3pt
{}% name of font to use in the body of the theorem
{}% measure of space to indent
{\bfseries\sffamily}% name of head font
{.}% punctuation between head and body
{ }% space after theorem head; " " = normal interword space
{}% Manually specify head

\theoremstyle{mythm}
\newtheorem{thm}{Theorem}
\newtheorem{prop}[thm]{Proposition}
\newtheorem{cor}[thm]{Corollary}
\newtheorem{lem}[thm]{Lemma}
\theoremstyle{mydef}
\newtheorem{mydef}[thm]{Definition}
\newtheorem{rem}[thm]{Remark}
\newtheorem{ex}[thm]{Example}
\newenvironment{myproof}[1][\proofname]{
	\proof[\sffamily\upshape#1]
}{\endproof}

% % % % % MISCELLANEOUS STUFF

\clearscrheadfoot
\ihead[]{\headmark}
\ohead[]{\pagemark}
\cfoot[\pagemark]{}
\pagestyle{scrheadings}

\deffootnote[1em]{0em}{1em}{%
	\textsuperscript{\thefootnotemark}%
}
\setfootnoterule{3em}

%\numberwithin{equation}{section}

\newcommand\numberthis{\stepcounter{equation}\tag{\theequation}}


\newenvironment{numberedlist}{\begin{enumerate}[\upshape(i)]}{\end{enumerate}}
\newenvironment{letteredlist}{\begin{enumerate}[\upshape a)]}{\end{enumerate}}

%\renewcommand{\thesection}{\arabic{section}}
%\renewcommand{\thesubsection}{(\alph{subsection})}
%\renewcommand{\thesubsubsection}{(\roman{subsubsection})}
%\renewcommand{\autodot}{}

% % % % % Daniel Sank's modularity stuff, cf. https://danielsank.github.io/tex_modularity/

%\usepackage{import}
%\usepackage{coseoul}

\makeatletter
\newcounter{subimportleveldepth}                                                             % 1a
\setcounter{subimportleveldepth}{0}                                                          % 1b
\newcommand{\subimportlevel}[2]{                                                             % 2
	\expandafter\edef\csname @currentlevel\thesubimportleveldepth\endcsname{\thecurrentlevel}  % 3
	\addtocounter{subimportleveldepth}{1}                                                      % 4
	\addtocounter{currentlevel}{-1}                                                            % 5
	\subimport*{#1}{#2}                                                                        % 6
	\addtocounter{subimportleveldepth}{-1}                                                     % 7
	\setcounter{currentlevel}{\csname @currentlevel\thesubimportleveldepth\endcsname}          % 8
}
\makeatother


% USE ONLY INSIDE \begin{pgfinterruptboundingbox}
\tikzstyle{reverseclip}=[insert path={(current page.north east) --
	(current page.south east) --
	(current page.south west) --
	(current page.north west) --
	(current page.north east)}
]

%EXAMPLE:
%\begin{pgfinterruptboundingbox} % To make sure our clipping path does not mess up the placement of the picture
%	\path [clip] (A) -- (B) -- (C) -- cycle [reverseclip];
%\end{pgfinterruptboundingbox}
